(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{3300:function(t,e,a){"use strict";e["a"]={methods:{formatTime(t){let e=Math.floor(t%60),a=Math.floor(t/60%60),n=Math.floor(t/3600%24);Math.floor(t/86400);return e=e<10?"0"+e:""+e,a=a<10?"0"+a:""+a,n=n<10?"0"+n:""+n,n+":"+a+":"+e},getTimeFromFormat(t){let e=t.split(":"),a=3600*parseInt(e[0]);return a+=60*parseInt(e[1]),e.length>2&&(a+=parseInt(e[2])),a}}}},"894f":function(t,e,a){},"96de":function(t,e,a){"use strict";a("894f")},b033:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-carousel",{ref:"carousel",staticClass:"text-center bg-amber-1",staticStyle:{position:"relative"},attrs:{swipeable:"",animated:"",infinite:"",vertical:"",height:"94vh","transition-prev":"slide-down","transition-next":"slide-up"},on:{input:t.rewritePath},scopedSlots:t._u([t.zones.length>0?{key:"control",fn:function(){return[a("q-carousel-control",{attrs:{position:"bottom",offset:[0,30]}},[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"icon-chevron-down","text-color":"black"},on:{click:function(e){return t.$refs.carousel.previous()}}})],1),a("q-carousel-control",{attrs:{position:"top",offset:[0,30]}},[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"icon-chevron-up","text-color":"black"},on:{click:function(e){return t.$refs.carousel.next()}}})],1)]},proxy:!0}:null],null,!0),model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.zones,(function(t){return a("q-carousel-slide",{key:t.id,attrs:{name:t.id}},[a("b-zone",{attrs:{data:t}})],1)})),1),a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{staticClass:"text-primary",attrs:{round:"",icon:"icon-plus",color:"accent",to:{name:"zone",params:{id:-1}}}})],1)],1)},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",{staticClass:"text-center card"},[a("q-card-section",{staticClass:"q-pa-none q-ma-none"},[a("div",{staticClass:"bg-primary row text-white shadow-3 round-top"},[a("div",{staticClass:"col text-h6 q-pa-sm"},[t._v(t._s(t.data.name))]),t.authenticate?a("q-fab",{staticClass:"col-auto",attrs:{flat:"",dense:"",icon:"icon-cog","active-icon":"icon-cog",direction:"down",padding:"xs"},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[a("q-fab-action",{attrs:{padding:"5px","label-position":"left",color:"warning","external-label":"",icon:"icon-delete",label:t.$t("delete")},on:{click:t.onDelete}}),a("q-fab-action",{attrs:{padding:"5px","label-position":"left",color:"accent","external-label":"",icon:"icon-pencil",label:t.$t("edit"),to:{name:"zone",params:{id:t.data.id}}}})],1):t._e()],1)]),a("q-card-section",{staticStyle:{height:"180px"}},[t.data.can_watering?a("div",{staticClass:"text-h6 q-pa-sm text-blue-5"},[t._v("\n      "+t._s(t.$t("zones.todayWatering"))+"\n    ")]):a("div",{staticClass:"text-h6 q-pa-sm text-red-5"},[t._v("\n      "+t._s(t.$t("zones.todayNotWatering"))+"\n    ")]),t.data.runing?a("div",{staticClass:"text-center text-h6 q-ma-none q-pa-none"},[a("div",{staticClass:"text-h3"},[t._v("\n        "+t._s(t.formatTime(t.data.elapsed))+"\n      ")]),a("div",{staticClass:"text-blue-5"},[t._v("\n        "+t._s(t.getAlarmIndex(t.data.alarmId)+1)+" /\n        "+t._s(t.getAllAlarmsSize(t.data.id))+" -\n        "+t._s(t.formatTime(t.getAlarmById(t.data.alarmId).duration-t.data.elapsed))+"\n      ")]),a("div",{staticClass:"text-blue-5 text-h6"},[t._v("\n        "+t._s(t.formatTime(t.data.duration))+"\n      ")])]):a("div",{staticClass:"text-center"},[a("div",{staticClass:"text-h3 q-ma-none"},[t._v("\n        "+t._s(t.formatTime(t.data.time))+"\n      ")]),a("div",{staticClass:"text-h6 text-blue-5"},[t._v("\n        "+t._s(t.getAllAlarmsSize(t.data.id))+" - "+t._s(t.formatTime(t.data.duration))+"\n      ")])])]),a("q-card-actions",{attrs:{align:"around"}},[a("b-toggle",{attrs:{checked:t.data.paused,disable:!t.data.runing,"label-off":t.$t("zones.resume"),"label-on":t.$t("zones.pause")},on:{change:t.onPause}}),a("b-toggle",{attrs:{checked:t.data.runing,"label-off":t.$t("cancel"),"label-on":t.$t("zones.water")},on:{change:t.onWater}})],1)],1)},i=[],l=a("2f62"),r=a("3300"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.checked?a("q-btn",{staticClass:"bg-accent text-dark q-ma-sm",style:t.styleW,attrs:{disable:t.disable},on:{click:t.onClick}},[t._v("\n    "+t._s(t.labelOff)+"\n  ")]):a("q-btn",{staticClass:"bg-primary text-white q-ma-sm",style:t.styleW,attrs:{disable:t.disable},on:{click:t.onClick}},[t._v("\n    "+t._s(t.labelOn)+"\n  ")])],1)},d=[],u={name:"b-toggle",props:{labelOn:String,labelOff:String,checked:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},width:{type:String,default:"120px"}},model:{prop:"checked",event:"change"},computed:{styleW(){return`width:${this.width}`}},methods:{onClick(){this.$emit("change",!this.checked)}}},p=u,m=a("2877"),b=a("9c40"),h=a("eebe"),f=a.n(h),g=Object(m["a"])(p,c,d,!1,null,null,null),v=g.exports;f()(g,"components",{QBtn:b["a"]});var x={name:"b-zone",components:{bToggle:v},mixins:[r["a"]],data(){return{fab:!1}},props:{data:Object},computed:{...Object(l["e"])(["zones","authenticate"]),...Object(l["c"])(["getAllAlarmsSize","getAlarmIndex","getAlarmById"])},methods:{...Object(l["d"])(["addZone","editZone"]),...Object(l["b"])(["waterZone","pauseZone","deleteZone"]),onDelete(){this.deleteZone(this.data.id)},onWater(){this.waterZone({id:this.data.id,value:!this.data.runing})},onPause(){this.pauseZone({id:this.data.id,value:!this.data.paused})}}},_=x,q=(a("96de"),a("f09f")),C=a("a370"),k=a("c294"),w=a("72db"),y=a("4b7e"),$=Object(m["a"])(_,o,i,!1,null,"508c4c22",null),z=$.exports;f()($,"components",{QCard:q["a"],QCardSection:C["a"],QFab:k["a"],QFabAction:w["a"],QCardActions:y["a"]});var I={components:{BZone:z},name:"Zones",data(){return{slide:!1}},computed:{...Object(l["e"])(["zones"]),...Object(l["c"])(["getZoneById"])},watch:{zones:function(t,e){this.update()}},beforeRouteUpdate(t,e,a){let n=parseInt(t.params.id);(n<0||void 0===this.getZoneById(n))&&a(!1),a(!0)},methods:{rewritePath(t,e){let a=parseInt(this.$route.params.id);a!==t&&this.$router.replace({path:`/zones/${t}`})},update(){let t=parseInt(this.$route.params.id),e=this.getZoneById(t);t>=0&&void 0!==e?this.$refs.carousel.goTo(t):this.$refs.carousel.next()}},mounted(){this.update()}},O=I,Z=a("9989"),A=a("880c"),Q=a("62cd"),S=a("32a7"),j=a("de5e"),B=Object(m["a"])(O,n,s,!1,null,null,null);e["default"]=B.exports;f()(B,"components",{QPage:Z["a"],QCarousel:A["a"],QCarouselSlide:Q["a"],QCarouselControl:S["a"],QBtn:b["a"],QPageSticky:j["a"]})}}]);